{% extends "base.html" %}

{% block title %}Editar producto{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h5 mb-0">Editar producto</h1>
    <a href="{% url 'home' %}" class="btn btn-sm btn-outline-secondary">← Volver al panel</a>
  </div>

  <div class="card shadow-sm border-0">
    <div class="card-body">
      <form method="post">
        {% csrf_token %}

        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">SKU</label>
            <input type="text" name="sku" class="form-control"
                   value="{{ producto.sku }}">
          </div>

          <div class="col-md-8">
            <label class="form-label">Nombre público</label>
            <input type="text" name="nombre_publico" class="form-control"
                   value="{{ producto.nombre_publico }}">
          </div>

          <div class="col-md-4">
            <label class="form-label">Precio</label>
            <div class="input-group">
              <span class="input-group-text">$</span>
              <input type="text" name="precio" class="form-control"
                     value="{{ producto.precio }}">
            </div>
          </div>

          <div class="col-md-4">
            <label class="form-label">Stock</label>
            <input type="number" name="stock" class="form-control"
                   value="{{ producto.stock }}">
          </div>

          <div class="col-md-4">
            <label class="form-label">Técnica</label>
            <select name="tech" class="form-select">
              <option value="">(Sin especificar)</option>
              <option value="SUB" {% if producto.tech == 'SUB' %}selected{% endif %}>Sublimación</option>
              <option value="LAS" {% if producto.tech == 'LAS' %}selected{% endif %}>Grabado láser</option>
              <option value="3D" {% if producto.tech == '3D' %}selected{% endif %}>Impresión 3D</option>
              <option value="OTR" {% if producto.tech == 'OTR' %}selected{% endif %}>Otro</option>
            </select>
          </div>

          <div class="col-md-12">
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="activoCheck" name="activo"
                     {% if producto.activo %}checked{% endif %}>
              <label class="form-check-label" for="activoCheck">
                Producto activo (se puede usar en el catálogo / cálculos)
              </label>
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-between align-items-center mt-4">
          <button type="submit" class="btn btn-primary">
            Guardar cambios
          </button>
          <a href="{% url 'home' %}" class="btn btn-outline-secondary">
            Cancelar
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
